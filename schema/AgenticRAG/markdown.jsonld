{
  "@context": "https://huijoohwee.github.io/schema/AgenticRAG/v1/context.jsonld",
  "@id": "rag:Markdown",
  "@type": "rdfs:Class",
  "schemaVersion": "1.0.4",
  "rdfs:label": [
    { "@value": "Markdown", "@language": "en-us" },
    { "@value": "Markdown", "@language": "zh-cn" }
  ],
  "rdfs:comment": [
    {
      "@value": "Describes Markdown documents used as neutral, dataset-agnostic inputs and exports for AgenticRAG workflows. Markdown content remains schema-agnostic; pipelines map sections and code blocks into GraphRAG-friendly nodes, edges, and chunk_text while keeping JSON-LD graphs and canvas views structurally aligned. In Canvas, the Bottom Panel Markdown Editor/Viewer keeps source text and preview together, renders preview using GFM-first markdown tokenization with a CommonMark-style fallback, supports word wrap and a slide-style Presentation Mode, and anchors selection back to document line ranges via metadata.documentPath and metadata.lineStart/metadata.lineEnd (with provenance tracked via metadata.timestamp and optional metadata.documentUrl). Token sharing is implemented between the Editor (TOC generation) and Viewer (Preview rendering) to avoid redundant lexing, ensuring optimal performance during mode switches. When composing chat context, Canvas may expand a selected node’s line range to a section-aware excerpt bounded by Markdown headings (ATX `#`…`######` and Setext), avoids breaking fenced code blocks, and trims to a small character budget (~2000 chars). Presentation Mode supports Slidev-style slide splitting using standalone `---` separators (outside code fences), an optional MDX evaluation path for embedding safe JSX components inside slides, and zoomable full-screen inspection for Mermaid diagrams. Preview rendering may optionally promote safe rich media embeds (images, video links, and common iframe providers) without requiring schema changes to the Markdown content.",
      "@language": "en-us"
    },
    {
      "@value": "用于 AgenticRAG 工作流的 Markdown 文档类型，强调中立、与数据集无关的输入与导出形式。Markdown 内容本身不携带特定模式假设，流水线将段落和代码块映射为适合 GraphRAG 的节点、边和 chunk_text，同时保持 JSON‑LD 图和画布视图在结构上的一致性。Canvas 的 Bottom Panel Markdown Editor/Viewer 提供 Markdown 源文本编辑与预览，使用以 GFM 为优先的 Markdown 分词与接近 CommonMark 的回退策略渲染预览，支持 Word Wrap 与幻灯片式 Presentation Mode，并通过 metadata.documentPath 与 metadata.lineStart/metadata.lineEnd 将选中节点/边锚定回文档行区间（来源信息通过 metadata.timestamp 以及可选的 metadata.documentUrl 记录）。在编辑器（TOC 生成）和预览器（渲染）之间实现了 Token 共享，以避免模式切换时的冗余词法分析，确保最佳性能。在构建聊天上下文时，Canvas 可将选中节点的行区间扩展为基于 Markdown 标题边界的片段（ATX `#`…`######` 与 Setext），避免在 fenced code block 内截断，并裁剪到较小的字符预算（约 2000 字符）。Presentation Mode 支持 Slidev 风格的独立 `---` 分隔符（代码块外）分页、可选的 MDX 求值以在幻灯片中嵌入安全的 JSX 组件，以及 Mermaid 图的可缩放全屏查看。预览渲染可选地将安全的富媒体嵌入（图片、视频链接、常见 iframe 提供方）提升为可视内容，而无需修改 Markdown 内容的 schema。",
      "@language": "zh-cn"
    }
  ]
}
