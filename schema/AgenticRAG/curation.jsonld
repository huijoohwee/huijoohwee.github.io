{
  "@context": "https://huijoohwee.github.io/schema/AgenticRAG/v1/context.jsonld",
  "@id": "rag:CurationSurface",
  "@type": "rdfs:Class",
  "schemaVersion": "1.0.6",
  "rdfs:label": [
    { "@value": "Curation surface (Graph Data)", "@language": "en-us" },
    { "@value": "策展界面（图数据）", "@language": "zh-cn" }
  ],
  "rdfs:comment": [
    {
      "@value": "Defines Graph Data curation and presentation UI surfaces such as Graph Data Table, Markdown viewer/editor/presentation/gallery (including Source Files List), Source Files import surface (per-row URL + local imports), and JSON inspectors. Curation surfaces should use semantic section/header markup and minimize wrapper nesting; menu toggles should deconflict overlapping surfaces by closing other open menus when activating a menu. The Source Files import surface may also register and manage geospatial dataset references for Geospatial Mode (for example GeoJSON or record datasets) while remaining dataset-agnostic and bounded. These surfaces must preserve provenance line mappings, remain schema-aligned, and avoid domain-specific assumptions. Ownership and integration must be explicit: the host owns pipeline orchestration and state, the curation plugin owns curation UI surfaces, and cross-repo coupling is limited to stable contracts (no sibling source-relative imports; shared types must be single-source-of-truth or structurally compatible re-exports).",
      "@language": "en-us"
    },
    {
      "@value": "定义图数据的策展与展示 UI 表面，例如图数据表格、Markdown 浏览/编辑/演示/画廊（包含 Source Files 列表）、Source Files 导入界面（按行 URL + 本地导入），以及 JSON 检视器。策展表面应使用语义化的 section/header 标记并尽量减少 wrapper 嵌套；当激活某个菜单时，菜单切换应通过关闭其他已打开菜单来避免表面重叠冲突。Source Files 导入界面也可为地理空间模式注册并管理数据集引用（例如 GeoJSON 或记录式数据集），同时保持数据集无关且执行有界。以上表面必须保留来源行号映射、保持与 schema 对齐，并避免领域特定假设。所有权与集成必须显式：宿主负责流水线编排与状态，策展插件负责策展 UI 表面；跨仓库耦合必须限制在稳定合约内（禁止 sibling 源码相对路径导入；共享类型必须单一真源或以结构兼容的方式稳定重导出）。",
      "@language": "zh-cn"
    }
  ]
  ,
  "markdownCurationInteraction": {
    "textSelectionGestures": [
      {
        "@value": "Viewer/Presentation preserve native selection gestures: single click caret anchor, double click word, triple click paragraph/line. Do not hijack double-click for navigation.",
        "@language": "en-us"
      },
      {
        "@value": "Viewer/Presentation 保持原生选择手势：单击光标锚点、双击选词、三击选段落/行；禁止把双击改成导航。",
        "@language": "zh-cn"
      }
    ],
    "rightClickShowOnIn": [
      {
        "@value": "Right Click opens the \"Show on/in …\" toolbar at the exact pointer position (no fly-out bias).",
        "@language": "en-us"
      },
      {
        "@value": "右键在指针精确位置打开 \"Show on/in …\" 工具条（禁止 fly-out 偏移）。",
        "@language": "zh-cn"
      }
    ],
    "applyAndToggle": [
      {
        "@value": "Cmd/Ctrl+Enter toggles Editor↔Viewer; when in Editor it applies changes then switches to Viewer.",
        "@language": "en-us"
      },
      {
        "@value": "Cmd/Ctrl+Enter 在 Editor↔Viewer 间切换；处于 Editor 时先 Apply 再切到 Viewer。",
        "@language": "zh-cn"
      }
    ],
    "blockControls": [
      {
        "@value": "Block controls use a reserved left gutter (Add line + reorder grip) so icons never overlap content; nested blocks inside lists/quotes do not render the gutter/controls.",
        "@language": "en-us"
      },
      {
        "@value": "块级控件使用保留左侧 gutter（Add line + reorder grip）避免覆盖正文；列表/引用内的嵌套块不渲染 gutter/控件。",
        "@language": "zh-cn"
      }
    ],
    "newSourceFile": [
      {
        "@value": "New Source File creates a new empty Markdown source, selects it, and opens BottomPanel → Curation → Markdown in Viewer mode.",
        "@language": "en-us"
      },
      {
        "@value": "New Source File 创建新的空 Markdown 源文件，选中它，并打开 BottomPanel → Curation → Markdown（Viewer 模式）。",
        "@language": "zh-cn"
      }
    ],
    "uiPath0": [
      {
        "@value": "ui-path-0 is the canonical navigation target for Markdown curation: BottomPanel → Curation → Markdown (Editor/Viewer/Presentation). Use this single stable path across repos and surfaces to prevent drift.",
        "@language": "en-us"
      },
      {
        "@value": "ui-path-0 是 Markdown 策展的规范导航目标：BottomPanel → Curation → Markdown（Editor/Viewer/Presentation）。跨仓库/跨表面统一使用该稳定路径以避免漂移。",
        "@language": "zh-cn"
      }
    ],
    "localMarkdownCrud": {
      "openFolder": [
        {
          "@value": "Open Folder requests a user-selected local directory and enumerates Markdown source files; folder/file hierarchy is derived from `/` segments in file names.",
          "@language": "en-us"
        },
        {
          "@value": "Open Folder 请求用户选择本地目录并枚举 Markdown 源文件；文件夹/文件层级由文件名中的 `/` 段派生。",
          "@language": "zh-cn"
        }
      ],
      "newFolder": [
        {
          "@value": "New Folder creates a new local directory under the user-granted handle when writable access is available; otherwise it should gracefully fall back (e.g., instruct the user to create the folder externally).",
          "@language": "en-us"
        },
        {
          "@value": "New Folder 在具备可写权限时于用户授权的句柄下创建新目录；否则需优雅降级（例如提示用户在外部创建文件夹）。",
          "@language": "zh-cn"
        }
      ],
      "newSourceFile": [
        {
          "@value": "New Source File creates a new empty `.md` file in the selected local folder when writable access is available; it then selects the file and opens Viewer/Presentation using the same canonical text buffer as Editor.",
          "@language": "en-us"
        },
        {
          "@value": "New Source File 在具备可写权限时于选定本地文件夹内创建空的 `.md` 文件；随后选中文件，并使用与 Editor 相同的规范文本缓冲区打开 Viewer/Presentation。",
          "@language": "zh-cn"
        }
      ],
      "browserConsistency": [
        {
          "@value": "Prefer the Web File System Access API (e.g., showDirectoryPicker) when supported for writable local CRUD; otherwise use a directory input fallback (e.g., webkitdirectory) for read-only enumeration. Avoid silent capability mismatches by surfacing read-only vs writable state in UI.",
          "@language": "en-us"
        },
        {
          "@value": "优先使用 Web File System Access API（如 showDirectoryPicker）以获得可写的本地 CRUD；不支持时使用目录选择回退（如 webkitdirectory）进行只读枚举。避免静默能力不一致，应在 UI 中明确展示只读与可写状态。",
          "@language": "zh-cn"
        }
      ],
      "textSourceOfTruth": [
        {
          "@value": "Editor, Viewer, and Presentation must render from the same single source of truth text buffer; selecting a source file updates this buffer first, then derives preview tokens/slides from it so mode switches never show stale/empty content.",
          "@language": "en-us"
        },
        {
          "@value": "Editor、Viewer 与 Presentation 必须使用同一个规范文本缓冲区作为单一真源；选择源文件时先更新该缓冲区，再由其派生预览 tokens/幻灯片，确保模式切换不出现陈旧/空内容。",
          "@language": "zh-cn"
        }
      ]
    }
  }
}
