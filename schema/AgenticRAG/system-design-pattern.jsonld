{
  "@context": "https://huijoohwee.github.io/schema/AgenticRAG/v1/context.jsonld",
  "schemaVersion": "1.0.1",
  "rdfs:label": [
    { "@value": "System design patterns (domain-agnostic)", "@language": "en-us" },
    { "@value": "系统设计模式（领域无关）", "@language": "zh-cn" }
  ],
  "rdfs:comment": [
    {
      "@value": "Collection of domain-agnostic system design patterns for AgenticRAG UI surfaces and pipeline integrations. Entries document stable UI anchors, pipeline phases, and neutral Role→Action→Outcome wording to reduce cross-repo drift.",
      "@language": "en-us"
    },
    {
      "@value": "面向 AgenticRAG 的领域无关系统设计模式集合，用于 UI 表面与流水线集成。条目记录稳定的 UI 锚点、流水线阶段与中性 Role→Action→Outcome 表述，以降低跨仓库漂移。",
      "@language": "zh-cn"
    }
  ],
  "@graph": [
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Radial layout toggle",
      "actions": [
        "switch between force-directed and D3 radial layouts on the main canvas",
        "force 2D canvas render mode when radial layout is enabled so orbits stay visible"
      ],
      "outcome": "let curators orbit AgenticRAG graphs around pipeline stages while preserving reproducible node clusters and selection-aware overlays.",
      "pipeline_phase": "Agentic Reasoning",
      "ui_anchor": "toolbar:radialLayoutMode",
      "raci_role": "Curator"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Group polygons toggle",
      "actions": [
        "show or hide convex hull polygons around related nodes inferred from JSON-LD array properties",
        "reuse the same grouping rules in 2D and 3D so visual group surfaces stay aligned with JSON-LD exports"
      ],
      "outcome": "make GraphRAG phases, datasets, and artifacts visually scannable without changing schema semantics or hard-coding dataset-specific presets.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "toolbar:polygonGroupsMode",
      "raci_role": "Curator"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Mermaid render ordering",
      "actions": [
        "configure deterministic draw order for Mermaid-derived nodes, edges, and labels via a renderer-controlled mapping",
        "keep subgraph hulls behind member nodes while preserving edge visibility during interaction"
      ],
      "outcome": "keep hierarchical Mermaid-style diagrams visually stable and interaction-safe across datasets without hard-coding domain semantics.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "render:mermaidRenderOrder",
      "raci_role": "Curator"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Stats distribution bar charts",
      "actions": [
        "click bars in bottom panel Stats distributions to pin a node/edge subset in the shared selection model",
        "keep the main distribution stable while rendering available drilldown sub-bar charts below the chart",
        "highlight and auto-scroll the matching bar when selection comes from the canvas"
      ],
      "outcome": "let curators inspect token- and community-level summaries without turning distribution charts into drilldown views or changing bar counts as selection changes.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "bottomPanel:statsDistributions",
      "raci_role": "Curator"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Polygon presets",
      "actions": [
        "edit schema.metadata[\"canvas:polygons\"] defaultStyle and per-field overrides from the Main Panel Graph Fields tab",
        "tune fill, stroke, opacity, dash, groupingLogic, and layer metadata for group polygons used in both 2D and 3D"
      ],
      "outcome": "keep 2D/3D canvas group polygons, workflow JSON-LD exports, and AgenticRAG system design docs aligned on the same schema-driven configuration.",
      "pipeline_phase": "Schema",
      "ui_anchor": "mainPanel:graphFieldsPolygonPresets",
      "raci_role": "Schema"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "AI‑KG layer mode",
      "actions": [
        "toggle schema.layers.mode between property, document-structure, and semantic in the Render tab, the MainPanel Settings Render section, the FloatingPanel Renderer view, and the Graph Fields panel header",
        "use semantic mode to derive similarity edges, node importance sizing, and NetworkX communities whose polygons represent meaning/word-frequency clusters (excluding JSON-LD structural block types), while document-structure mode keeps structural containers visible as nodes and relies on type-based layering"
      ],
      "outcome": "align AI‑KG canvas layering with AgenticRAG-friendly document and semantic group surfaces so exported JSON-LD graphs, polygons, and traversal overlays share the same schema.layers contract.",
      "pipeline_phase": "Schema",
      "ui_anchor": "render:aiKgLayersMode",
      "raci_role": "Schema"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Semantic similarity metric",
      "actions": [
        "switch schema.layers.semantic.similarityMetric between cosine similarity and PMI for semantic edges",
        "make the chosen similarity metric explicit in traversal tooling so semantic overlays remain reproducible and explainable"
      ],
      "outcome": "keep semantic layer edges grounded in a clearly documented similarity metric so AgenticRAG workflows can reason over PMI- or cosine-based neighborhoods without relying on dataset-specific presets.",
      "pipeline_phase": "Schema",
      "ui_anchor": "render:aiKgSemanticMetric",
      "raci_role": "Schema"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Semantic similarity label",
      "actions": [
        "choose schema.layers.semantic.similarityEdgeLabel for derived semantic similarity edges",
        "separate semantic similarity edges from structural and traversal edges across renderers and exports"
      ],
      "outcome": "keep semantic layer edges queryable under a single label so AgenticRAG workflows can filter, replay, and export similarity graphs without embedding dataset-specific labels.",
      "pipeline_phase": "Schema",
      "ui_anchor": "render:aiKgSemanticEdgeLabel",
      "raci_role": "Schema"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Semantic edge sparsity",
      "actions": [
        "tune schema.layers.semantic.topKEdgesPerNode to control how many strongest PMI/cosine neighbors each node keeps in the semantic layer",
        "balance cluster readability and coverage by limiting edges per node before community detection and polygon generation"
      ],
      "outcome": "let curators tighten or relax semantic edge density in a dataset-agnostic way so communities, traversal overlays, and group polygons stay legible without hard-coding graph-specific thresholds.",
      "pipeline_phase": "Schema",
      "ui_anchor": "render:aiKgSemanticTopK",
      "raci_role": "Schema"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Semantic similarity threshold",
      "actions": [
        "adjust schema.layers.semantic.minSimilarity to drop low-signal PMI/cosine edges before community detection",
        "shape semantic bands and convex hulls by enforcing a minimum similarity level instead of relying on raw co-occurrence counts"
      ],
      "outcome": "give AgenticRAG workflows a single, schema-driven similarity cutoff that filters noisy semantic edges across datasets while preserving meaningful neighborhoods for traversal and visualization.",
      "pipeline_phase": "Schema",
      "ui_anchor": "render:aiKgSemanticMinSimilarity",
      "raci_role": "Schema"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Workspace actions surface",
      "actions": [
        "expose import, export, and run-pipeline controls inside MainPanel Workflow Manager Step 3 (Ingest) so users have a single end-to-end control surface",
        "use the MainPanel header Graph Search toggle to filter Workspace Actions instead of rendering a separate per-section search input",
        "treat the Toolbar Open Data button as navigation that opens MainPanel Workflow Manager (not a second competing Workspace Actions surface)",
        "avoid duplicating the same Workspace Actions controls in floating tool menus so UI ownership stays clear and drift-resistant",
        "centralize Workspace Actions menu state and action handlers behind a single model so behavior stays consistent across hosts"
      ],
      "outcome": "keep import→parse→render controls discoverable in one stable workflow surface while preventing competing UI implementations and stale duplicated actions.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "mainPanel:workflowWorkspaceActions",
      "raci_role": "Engineer"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "MainPanel settings surface",
      "actions": [
        "render editable settings as a single Key/Type/Value grid driven by the shared settings registry",
        "show Role→Actions→Outcome key tooltips and bounded Default/Min/Max/Interval value tooltips without adding per-row icon affordances",
        "batch user edits through MainPanel header Apply/Reset instead of applying ad-hoc setter calls from inline preset buttons",
        "hide non-writable persistence artifacts so Settings stays focused on intentional configuration knobs",
        "expose Modules/Classes/Functions details via click-to-expand rows to keep cross-repo provenance inspectable"
      ],
      "outcome": "keep Settings discoverable, drift-resistant, and semantically self-documenting while avoiding duplicated controls and stale inline copy across host and extracted UI surfaces.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "mainPanel:settingsPanel",
      "raci_role": "Engineer"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "GraphRAG workflow editor surface",
      "actions": [
        "edit rag:GraphRAGWorkflow JSON-LD fields (dataset paths, chunking, embedding model, maxHops) inside Bottom Panel → Orchestrator",
        "reuse the same workflow document for traversal presets, renderer overlays, and JSON-LD export/import actions",
        "avoid embedding a second GraphRAG workflow JSON editor inside MainPanel Workflow Manager steps to prevent drift",
        "pair Role→Actions→Outcome key tooltips with bounded Default/Min/Max/Interval value tooltips for all workflow fields",
        "keep UI anchors unique so GraphRAG workflow navigation targets a single canonical element"
      ],
      "outcome": "keep GraphRAG workflow configuration centralized, reproducible, and shareable without duplicated UI implementations across panels.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "orchestrator:graphRagWorkflow",
      "raci_role": "Engineer"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "BottomPanel orchestrator surface",
      "actions": [
        "treat Bottom Panel → Orchestrator as the canonical traversal workflow surface",
        "support both UI editor and text editor views without duplicating orchestration controls elsewhere",
        "host traversal presets, traversal sequence, AgenticRAG node inspector, and context/ignore filters in one surface",
        "reuse shared Key/Type/Value primitives and enforce consistent tooltip semantics across all controls",
        "keep Graph Traversal floating panel wired to the same orchestrator state to prevent drift"
      ],
      "outcome": "centralize agentic traversal configuration and inspection so import→index→traverse→render stays reproducible.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "bottomPanel:orchestrator",
      "raci_role": "Engineer"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "FloatingPanel renderer surface",
      "actions": [
        "treat Toolbar → Floating Panel → Renderer as the canonical renderer settings surface",
        "provide quick palette and hover-tooltip content toggles without duplicating full render configuration elsewhere",
        "render the full renderer tuning sections (layout, camera, selection, presets) in the same surface with Collapse/Expand All",
        "enforce Role→Actions→Outcome key tooltips and bounded Default/Min/Max/Interval value tooltips across renderer controls",
        "keep setting key labels and anchors stable so renderer controls remain discoverable across repos"
      ],
      "outcome": "centralize renderer configuration and keep styling and hover inspection consistent across the import→render pipeline.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "floatingPanel:renderer",
      "raci_role": "Engineer"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Extracted UI surface integration contract",
      "actions": [
        "resolve extracted UI package source from installed node_modules/<package>/src via bundler and TypeScript aliases",
        "preserve symlink resolution so extracted source keeps a single node_modules truth for dependencies and types",
        "scan extracted source in Tailwind content discovery so extracted UI classnames remain stable",
        "dedupe shared deps (e.g. react, highlight.js) and pre-optimize dual ESM/CJS deps to avoid runtime export-shape mismatches"
      ],
      "outcome": "keep extracted UI surfaces neutral and maintainable across host repos without reintroducing duplicate implementations or cross-repo path coupling.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "integration:node_modules-src",
      "raci_role": "Engineer"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Markdown code block render mode",
      "actions": [
        "toggle between Beside/Inline/Render mode in the Markdown Viewer header to set the default code block layout",
        "override Beside/Inline/Render per code block via icon-only controls in the code block header without mutating the global preference",
        "render supported previews (Mermaid diagrams, GeoJSON via MapLibre, Rich Media) in Render mode while falling back to source code in Inline/Beside modes",
        "reuse shared geospatial/graph utilities for inline previews to avoid duplicated rendering logic"
      ],
      "outcome": "ensure consistent, schema-driven rendering of rich content within Markdown without dataset-specific hacks or fragmented UI controls.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "markdown:viewerRenderMode",
      "raci_role": "Curator"
    },
    {
      "@type": "rag:RoleActionOutcome",
      "role": "Markdown local source files surface",
      "actions": [
        "use ui-path-0 as the canonical navigation target for Markdown curation: BottomPanel → Curation → Markdown (Editor/Viewer/Presentation)",
        "request local folder access via the Web File System Access API when available for writable CRUD; otherwise fall back to directory input enumeration for read-only access",
        "keep Open Folder, New Folder, and New Source File capability-aware and never silently no-op when write permission is unavailable",
        "treat a single canonical Markdown text buffer as the source of truth for Editor, Viewer, and Presentation; derive preview tokens/slides from it so mode switches never show empty/stale content"
      ],
      "outcome": "keep local Markdown workflows reproducible and drift-resistant across repos by standardizing a single UI path, capability-aware file access, and a shared text source of truth across modes.",
      "pipeline_phase": "UI Curation",
      "ui_anchor": "ui-path-0",
      "raci_role": "Curator"
    }
  ]
}
