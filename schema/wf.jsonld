{
  "@context": {
    "@base": "https://huijoohwee.github.io/schema/base.jsonld",
    "@version": 1.1,
    "@vocab": "https://huijoohwee.github.io/schema/vocab.jsonld",
    "Actor": "wf:Actor",
    "Condition": "wf:Condition",
    "Execution": "wf:Execution",
    "Step": "wf:Step",
    "Transition": "wf:Transition",
    "Trigger": "wf:Trigger",
    "Workflow": "wf:Workflow",
    "action": "https://huijoohwee.github.io/schema/actions.jsonld#",
    "actor": {
      "@id": "wf:actor",
      "@type": "@id"
    },
    "agent": "https://huijoohwee.github.io/schema/agents.jsonld#",
    "area": "https://huijoohwee.github.io/schema/areas.jsonld#",
    "condition": {
      "@id": "wf:condition",
      "@type": "@id"
    },
    "core": "https://huijoohwee.github.io/schema/core.jsonld",
    "created": {
      "@id": "core:created",
      "@type": "xsd:dateTime"
    },
    "dependsOn": {
      "@container": "@set",
      "@id": "wf:dependsOn",
      "@type": "@id"
    },
    "description": "rdfs:comment",
    "docs": "rdfs:seeAlso",
    "duration": {
      "@id": "wf:duration",
      "@type": "xsd:duration"
    },
    "endTime": {
      "@id": "wf:endTime",
      "@type": "xsd:dateTime"
    },
    "feature": "https://huijoohwee.github.io/schema/features.jsonld#",
    "hasStep": {
      "@container": "@list",
      "@id": "wf:hasStep",
      "@type": "@id"
    },
    "hbs": "https://huijoohwee.github.io/schema/hbs.jsonld",
    "input": {
      "@id": "wf:input",
      "@type": "@id"
    },
    "issue": "https://huijoohwee.github.io/schema/issues.jsonld#",
    "jdbl": "https://huijoohwee.github.io/schema/jdbl.jsonld",
    "jjnhm": "https://huijoohwee.github.io/schema/jjnhm.jsonld",
    "jsonld": "https://www.w3.org/2013/json-ld-context/rdfa11",
    "kg": "https://huijoohwee.github.io/schema/kg.jsonld",
    "label": "rdfs:label",
    "license": {
      "@id": "core:license",
      "@type": "@id"
    },
    "maintainer": {
      "@id": "core:maintainer",
      "@type": "@id"
    },
    "meta": "core:metadata",
    "mmd": "https://huijoohwee.github.io/schema/mmd.jsonld",
    "next": {
      "@container": "@set",
      "@id": "wf:next",
      "@type": "@id"
    },
    "nqds": "https://huijoohwee.github.io/schema/nqds.jsonld",
    "nquads": "https://www.w3.org/TR/n-quads/#n-quads",
    "outcome": {
      "@id": "wf:outcome",
      "@type": "@id"
    },
    "output": {
      "@id": "wf:output",
      "@type": "@id"
    },
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "retries": {
      "@id": "wf:retries",
      "@type": "xsd:integer"
    },
    "startTime": {
      "@id": "wf:startTime",
      "@type": "xsd:dateTime"
    },
    "status": {
      "@id": "wf:status",
      "@type": "xsd:string"
    },
    "trace": {
      "@id": "uc:trace",
      "@type": "xsd:string"
    },
    "triggeredBy": {
      "@id": "wf:triggeredBy",
      "@type": "@id"
    },
    "uc": "https://huijoohwee.github.io/schema/uc.jsonld",
    "uiux": "https://huijoohwee.github.io/schema/ui-ux-elements.jsonld#",
    "updated": {
      "@id": "core:updated",
      "@type": "xsd:dateTime"
    },
    "version": "core:version",
    "wf": "https://huijoohwee.github.io/schema/wf.jsonld",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },
  "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Base:v1.1",
  "@type": "core:Vocabulary",
  "classes": {
    "wf:Actor": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Actor",
      "@type": "core:Class",
      "description": "Agent, service, or user that performs or initiates steps",
      "label": "Actor"
    },
    "wf:CanvasSyncWorkflow": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#CanvasSyncWorkflow",
      "@type": "core:Class",
      "description": "Workflow for canvas-code synchronization operations",
      "label": "Canvas Sync Workflow"
    },
    "wf:Condition": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Condition",
      "@type": "core:Class",
      "description": "Predicate evaluated to control flow (guards, pre/post conditions)",
      "label": "Condition"
    },
    "wf:ConflictResolutionWorkflow": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#ConflictResolutionWorkflow",
      "@type": "core:Class",
      "description": "Workflow for resolving synchronization conflicts",
      "label": "Conflict Resolution Workflow"
    },
    "wf:ConversionStep": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#ConversionStep",
      "@type": "core:Class",
      "description": "Step for canvas-code conversion operations",
      "label": "Conversion Step"
    },
    "wf:Execution": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Execution",
      "@type": "core:Class",
      "description": "A runtime instance of a workflow or step; includes timestamps, status and trace pointers",
      "label": "Execution"
    },
    "wf:Step": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Step",
      "@type": "core:Class",
      "description": "An individual action, task, or operation within a workflow",
      "label": "Step"
    },
    "wf:SyncValidationStep": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#SyncValidationStep",
      "@type": "core:Class",
      "description": "Step for validating synchronization operations",
      "label": "Sync Validation Step"
    },
    "wf:Transition": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Transition",
      "@type": "core:Class",
      "description": "Link between steps indicating order and/or conditional routing",
      "label": "Transition"
    },
    "wf:Trigger": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Trigger",
      "@type": "core:Class",
      "description": "An event or condition that initiates a workflow or step",
      "label": "Trigger"
    },
    "wf:Workflow": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#Workflow",
      "@type": "core:Class",
      "description": "A defined sequence of steps or stages to accomplish a goal; may include metadata, KPI gates and provenance",
      "label": "Workflow"
    }
  },
  "examples": [
    {
      "@id": "https://huijoohwee.github.io/schema/examples/wf/example-pipeline",
      "@type": "wf:Workflow",
      "docs": "https://huijoohwee.github.io/docs/workflows/example-pipeline.md",
      "hasStep": [
        {
          "@id": "https://huijoohwee.github.io/schema/examples/wf/step-1",
          "@type": "wf:Step",
          "actor": "https://huijoohwee.github.io/agents/SensorAgent",
          "label": "Detect Event",
          "trace": "trace-detect-001",
          "triggeredBy": "https://huijoohwee.github.io/schema/uc.jsonld#event"
        },
        {
          "@id": "https://huijoohwee.github.io/schema/examples/wf/step-2",
          "@type": "wf:Step",
          "actor": "https://huijoohwee.github.io/agents/ProcessorAgent",
          "dependsOn": [
            "https://huijoohwee.github.io/schema/examples/wf/step-1"
          ],
          "input": "https://huijoohwee.github.io/schema/examples/nqds/user-input-flow",
          "label": "Process Data",
          "output": "https://huijoohwee.github.io/schema/examples/nqds/processed-output",
          "trace": "trace-process-001"
        },
        {
          "@id": "https://huijoohwee.github.io/schema/examples/wf/step-3",
          "@type": "wf:Step",
          "actor": "https://huijoohwee.github.io/agents/ReporterAgent",
          "dependsOn": [
            "https://huijoohwee.github.io/schema/examples/wf/step-2"
          ],
          "label": "Generate Report",
          "outcome": "https://huijoohwee.github.io/schema/examples/artifacts/report-v1",
          "trace": "trace-report-001"
        }
      ],
      "label": "Example Pipeline",
      "version": "1.0.0"
    }
  ],
  "meta": {
    "conformsTo": [
      "https://huijoohwee.github.io/schema/wbstcnvs.jsonld"
    ],
    "created": "2025-09-26T00:00:00Z",
    "creator": "https://github.com/huijoohwee",
    "description": "Canvas-code synchronization workflows, bidirectional orchestration, and WBSTCNVS runtime states across JJNHM layers",
    "license": "https://opensource.org/licenses/MIT",
    "maintainer": "https://github.com/huijoohwee",
    "modified": "2025-10-23T02:00:00Z",
    "responsibilities": [
      "canvas-code-workflow-orchestration",
      "bidirectional-sync-workflows",
      "conflict-resolution-workflows",
      "conversion-pipeline-steps",
      "multi-agent-canvas-coordination",
      "sync-operation-traceability"
    ],
    "semVer": "20251023-v3.0.0",
    "title": "WBSTCNVS Workflow Vocabulary (wf)",
    "versionInfo": "3.0.0"
  },
  "properties": {
    "wf:actor": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#actor",
      "@type": "core:Property",
      "description": "Actor responsible for the step (referencing uc:actor or JSON-LD agent types)",
      "label": "actor"
    },
    "wf:canvasToCodeSync": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#canvasToCodeSync",
      "@type": "core:Property",
      "description": "Reference to canvas-to-code synchronization operation",
      "label": "canvas to code sync"
    },
    "wf:codeToCanvasSync": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#codeToCanvasSync",
      "@type": "core:Property",
      "description": "Reference to code-to-canvas synchronization operation",
      "label": "code to canvas sync"
    },
    "wf:condition": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#condition",
      "@type": "core:Property",
      "description": "Guard or predicate controlling transitions; may reference jdbl:PreCondition or jdbl:ValidationRule",
      "label": "condition"
    },
    "wf:conflictStrategy": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#conflictStrategy",
      "@type": "core:Property",
      "description": "Strategy for resolving synchronization conflicts",
      "label": "conflict strategy",
      "range": "xsd:string"
    },
    "wf:dependsOn": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#dependsOn",
      "@type": "core:Property",
      "description": "Dependencies required before the step can execute; reference step IRIs or NQDS dependency nodes",
      "label": "dependsOn"
    },
    "wf:docs": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#docs",
      "@type": "core:Property",
      "description": "Documentation or reference URL for the workflow or step",
      "label": "docs",
      "range": "xsd:anyURI"
    },
    "wf:duration": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#duration",
      "@type": "core:Property",
      "description": "Elapsed time for step or execution",
      "label": "duration",
      "range": "xsd:duration"
    },
    "wf:endTime": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#endTime",
      "@type": "core:Property",
      "description": "End timestamp for execution",
      "label": "endTime",
      "range": "xsd:dateTime"
    },
    "wf:hasStep": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#hasStep",
      "@type": "core:Property",
      "description": "Ordered reference to steps within a workflow",
      "label": "hasStep",
      "range": "rdf:List"
    },
    "wf:input": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#input",
      "@type": "core:Property",
      "description": "Input references or parameters for the step",
      "label": "input"
    },
    "wf:next": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#next",
      "@type": "core:Property",
      "description": "Reference to the next step or steps; may be conditional",
      "label": "next"
    },
    "wf:outcome": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#outcome",
      "@type": "core:Property",
      "description": "Result or artifact produced by the step (reference uc:artifact or KG nodes)",
      "label": "outcome"
    },
    "wf:output": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#output",
      "@type": "core:Property",
      "description": "Output references or artifacts produced by the step",
      "label": "output"
    },
    "wf:retries": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#retries",
      "@type": "core:Property",
      "description": "Retry policy or count for a step",
      "label": "retries",
      "range": "xsd:integer"
    },
    "wf:startTime": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#startTime",
      "@type": "core:Property",
      "description": "Start timestamp for execution",
      "label": "startTime",
      "range": "xsd:dateTime"
    },
    "wf:status": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#status",
      "@type": "core:Property",
      "description": "Execution state (e.g., pending, running, succeeded, failed)",
      "label": "status",
      "range": "xsd:string"
    },
    "wf:syncDirection": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#syncDirection",
      "@type": "core:Property",
      "description": "Direction of synchronization operation",
      "label": "sync direction",
      "range": "xsd:string"
    },
    "wf:trace": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#trace",
      "@type": "core:Property",
      "description": "Trace identifier (uc:trace) linking workflow execution to JDBL directives, NQDS flows and provenance",
      "label": "trace",
      "range": "xsd:string"
    },
    "wf:triggeredBy": {
      "@id": "https://huijoohwee.github.io/schema/wf.jsonld#triggeredBy",
      "@type": "core:Property",
      "description": "Event or condition that triggered the workflow or step",
      "label": "triggeredBy"
    }
  },
  "validatorHints": {
    "contractLinks": "Ensure wf:trace values map to jdbl:traceId and NQDS trace nodes for end-to-end observability",
    "recommendedTools": [
      "workflow-linter",
      "jjnhm-validate",
      "nqds-journey-analyzer",
      "directive-trace-validator"
    ],
    "runtimeIntegrity": "Check executions contain startTime/endTime when status is terminal and verify retries and durations conform to jdbl constraints",
    "workflowStructure": "Validate ordered steps, next transitions, and dependency graphs; ensure no unreachable steps and verify dependsOn references resolve"
  }
}
