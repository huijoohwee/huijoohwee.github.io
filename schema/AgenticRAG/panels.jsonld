{
  "@context": "https://huijoohwee.github.io/schema/AgenticRAG/v1/context.jsonld",
  "@id": "rag:Panel",
  "@type": "rdfs:Class",
  "schemaVersion": "1.0.17",
  "rdfs:comment": [
    {
      "@value": "Defines reusable panel UI surfaces. Controls that combine icons and text must use stable alignment primitives (inline-flex with centered alignment) and shared icon baseline rules to prevent visual drift across themes and density settings.",
      "@language": "en-us"
    },
    {
      "@value": "定义可复用的面板 UI 表面。图标与文本组合控件必须使用稳定的对齐原语（inline-flex 居中对齐）与共享图标基线规则，避免在主题与密度设置下出现视觉漂移。",
      "@language": "zh-cn"
    }
  ],
  "rdfs:label": [
    { "@value": "Panel", "@language": "en-us" },
    { "@value": "面板", "@language": "zh-cn" }
  ],
  "panelInteractionContracts": {
    "nodeQuickEditorLiveSync": [
      {
        "@value": "Node Quick Editor visibility must live-sync across Canvas (Flow Editor) and the host Graph Table Inspector. Visibility gating uses a shared open-id list (e.g., `openQuickEditorNodeIds`) from the host store, not per-surface local state. Editor Workspace must not mount a second inspector dock; it surfaces Node Quick Editor as bundle codes inside the Markdown editor/viewer (JSON/Markdown) and may auto-focus when a quick-editor node is available. Mode switches (Canvas↔Editor) must preserve the open list unless nodes are removed from GraphData.",
        "@language": "en-us"
      },
      {
        "@value": "Node Quick Editor 的可见性必须在 Canvas（Flow Editor）与宿主 Graph Table Inspector 之间实时同步。可见性由宿主存储中的共享打开 ID 列表（例如 `openQuickEditorNodeIds`）进行控制，而非各表面维护本地状态。Editor 工作区不得挂载第二套 Inspector 停靠栏；应在 Markdown editor/viewer 内以 bundle codes（JSON/Markdown）形式呈现 Node Quick Editor，并可在存在 quick-editor 节点时自动聚焦。工作区模式切换（Canvas↔Editor）必须保留打开列表，除非节点已从 GraphData 移除。",
        "@language": "zh-cn"
      }
    ],
    "markdownSsotSectionHeader": [
      {
        "@value": "Markdown Editor/Viewer/Presentation must share one-and-only Markdown Section Header implementation. Mode switches may change enabled/disabled state but must not introduce alternate header variants or different button sets.",
        "@language": "en-us"
      },
      {
        "@value": "Markdown Editor/Viewer/Presentation 必须共享唯一的 Markdown 区域头部实现。模式切换只允许改变启用/禁用状态，不得引入不同的头部变体或不同的按钮集合。",
        "@language": "zh-cn"
      }
    ],
    "markdownSsotSidebarStructure": [
      {
        "@value": "Markdown Contents sidebar uses a single SSOT DOM structure (aside/header/nav/sections) with shared micro-label typography. Sidebar section headers are typography-only and must not render action menus; source file actions belong to the section header area only when they are part of the canonical SSOT header contract. Import Folder must be lazy: create file/folder entries + pending stubs without reading contents; clicking a file triggers indexing/loading/parsing/rendering (including on-demand PDF conversion). Forbid showing an Indexing spinner on Import Folder; show the progress pill only while opening a file with shared label formatting (e.g. `Indexing • 1/1 • 123kb`). Workspace file CRUD must sync to the Source Files list (stable IDs keyed by `workspace:<path>`), and file open should reuse cached parsed graphs when text hashes match. GeoJSON/JSON files with geodata must render by converting into graph nodes with `properties.geo.{lat,lng}`. Forbid file switching from toggling frontmatter mode or triggering graph/layout recomputation.",
        "@language": "en-us"
      },
      {
        "@value": "Markdown Contents 侧边栏必须使用唯一的 SSOT DOM 结构（aside/header/nav/sections）并共享微标签排版。侧边栏分区标题仅用于排版显示，不得渲染动作菜单；Source Files 动作应归属于规范的 SSOT 头部契约。Import Folder 必须惰性执行：创建文件/目录条目与 pending stubs，禁止读取文件内容；点击单个文件才触发 indexing/loading/parsing/rendering（包含按需 PDF 转换）。禁止在 Import Folder 阶段显示 Indexing 转圈；只允许在打开文件阶段显示进度胶囊，并使用共享格式（例如 `Indexing • 1/1 • 123kb`）。Workspace 文件 CRUD 必须同步到 Source Files 列表（使用 `workspace:<path>` 作为稳定 ID 键），并且打开文件时当文本 hash 匹配应复用已缓存的解析图。GeoJSON/包含地理数据的 JSON 必须通过转换为带 `properties.geo.{lat,lng}` 的图节点来渲染。禁止切换文件导致 frontmatter 模式翻转或触发图/布局重算。",
        "@language": "zh-cn"
      }
    ],
    "markdownRightClickShowOnIn": [
      {
        "@value": "Right Click opens the app-level \"Show on/in …\" toolbar at the exact pointer position; avoid Monaco default context menus so behavior is consistent across Editor/Viewer/Presentation.",
        "@language": "en-us"
      },
      {
        "@value": "右键在指针精确位置打开应用级 \"Show on/in …\" 工具条；避免使用 Monaco 默认菜单以保证 Editor/Viewer/Presentation 行为一致。",
        "@language": "zh-cn"
      }
    ],
    "bottomPanelFlowTab": [
      {
        "@value": "BottomPanel includes a Flow tab adjacent to Status. ui-path-0: Source File click commits GraphData and D3 renders; Flow button opens BottomPanel and Flow renders the same GraphData in a read-only ReactFlow overview plus Graph Data Table (Nodes/Edges scope). The table must keep sticky header + optional frozen first column aligned with horizontal scroll, share column widths between header/body, support pointer-drag column reordering, and clear to empty state when GraphData is empty. Placement must reuse the host layout position cache (or node x/y) and never inject demo data.",
        "@language": "en-us"
      },
      {
        "@value": "BottomPanel 包含一个紧邻 Status 的 Flow 标签页。ui-path-0：点击 Source File 提交 GraphData 并由 D3 渲染；点击 Flow 打开 BottomPanel 并以只读方式用 ReactFlow 渲染同一份 GraphData（含 Graph Data Table：Nodes/Edges scope）。表格必须保证 sticky 表头与可选的冻结首列在水平滚动时始终对齐；表头/表体必须共享列宽；支持指针拖拽进行列重排；当 GraphData 为空时必须清空为 empty state。位置必须复用宿主布局位置缓存（或节点 x/y），禁止注入演示数据。",
        "@language": "zh-cn"
      }
    ],
    "toolbarEditorWorkspaceToggle": [
      {
        "@value": "Toolbar includes an Editor button left of Status. Clicking Editor toggles a VS Code-like embedded editor workspace that reuses the canonical Markdown Workspace SSOT and shows a Canvas preview via an iframe URL param contract (e.g. `/?kgPreview=1`) that forces preview-only rendering (no toolbar/panels) to prevent recursion and cross-mode interference. Editor Workspace must not mount a standalone inspector dock; optional tools (e.g., Graph Table) must keep inspector behavior scoped within the tool surface.",
        "@language": "en-us"
      },
      {
        "@value": "Toolbar 在 Status 左侧包含 Editor 按钮。点击 Editor 切换到类 VS Code 的内嵌编辑工作区：复用规范的 Markdown Workspace SSOT，并通过 iframe + URL 参数契约（如 `/?kgPreview=1`）强制预览仅渲染（无工具栏/面板），以防递归与跨模式干扰。Editor 工作区不得挂载独立的 Inspector 停靠栏；可选工具（例如 Graph Table）必须将 inspector 行为限制在其工具表面内部。",
        "@language": "zh-cn"
      }
    ],
    "toolbarNavigateMode": [
      {
        "@value": "Toolbar includes a Navigate button that clears selection and forces single-select. It replaces any floating mode rail and must reuse the same canonical selection/mode state.",
        "@language": "en-us"
      },
      {
        "@value": "Toolbar 包含 Navigate 按钮：清空选择并强制单选模式。它替代任何悬浮模式栏，并且必须复用同一份规范选择/模式状态。",
        "@language": "zh-cn"
      }
    ],
    "canvasViewportStatusInStatusPanel": [
      {
        "@value": "Viewport HUD (zoom %, pan x/y, selection count, renderer) must be surfaced only inside the Status Panel. Forbid separate floating HUD or bottom status bars on the canvas.",
        "@language": "en-us"
      },
      {
        "@value": "视口 HUD（缩放百分比、平移 x/y、选择数量、渲染器）只能展示在 Status Panel 内。禁止在画布上再渲染独立的悬浮 HUD 或底部状态栏。",
        "@language": "zh-cn"
      }
    ],
    "editorWorkspaceGraphTable": [
      {
        "@value": "Editor workspace may include a Graph Data Table (Graph Table) section for inspecting the active GraphData. It must be implemented as a scroll-stable canvas fast-grid (single scroll owner) with an explicit scroll-extents spacer element sized to the computed layout. It must provide a toolbar for fields/filter/group/sort/row height and pointer-drag column resizing. Pinned header/columns must be fully opaque and must not show scrolled text underneath; draw operations must clip scrollable regions. Split panes use a vertical hr separator with pointer-drag resize and persisted widths; avoid scroll-jump loops when syncing selection with preview and TOC.",
        "@language": "en-us"
      },
      {
        "@value": "Editor 工作区可包含用于查看当前 GraphData 的 Graph Data Table（Graph Table）区域。必须实现为滚动稳定的 Canvas fast-grid（单一滚动宿主），并使用与计算布局一致的显式滚动范围 spacer 元素来驱动原生 scrollHeight/scrollWidth。必须提供字段/过滤/分组/排序/行高工具条与可拖拽列宽调整。固定表头/固定列必须完全不透明，禁止出现滚动文本透出；绘制必须对可滚动区域做 clip。分栏使用可拖拽的垂直 hr 分隔并持久化宽度；与预览与 TOC 同步选择时需避免滚动跳动循环。",
        "@language": "zh-cn"
      }
    ],
    "recordInspectorSsot": [
      {
        "@value": "Record/Selection Inspector (dl/header + field inputs) must be a single host-owned SSOT component reused across Graph Table and the Canvas Floating Panel Inspector view (no legacy right SidePanel). Editor Workspace must not mount a standalone inspector dock; inspector surfaces belong to Graph Table workspaces and the Canvas Floating Panel only. When Flow Editor is the active 2D renderer, its inspector must be consolidated into the same Floating Panel Inspector surface (portal slot) rather than rendering a separate inspector panel. The Inspector layout must render even with no active selection; inputs may be disabled but the surface stays visible.",
        "@language": "en-us"
      },
      {
        "@value": "Record/Selection Inspector（dl/header + 字段输入）必须是宿主唯一的 SSOT 组件，并在 Graph Table 与 Canvas 浮动面板（Floating Panel）的 Inspector 视图中复用（禁止遗留右侧 SidePanel）。Editor 工作区不得挂载独立的 Inspector 停靠栏；Inspector 表面仅允许存在于 Graph Table 工作区与 Canvas Floating Panel。 当 Flow Editor 为当前 2D 渲染器时，其 Inspector 必须合并到同一 Floating Panel Inspector 表面（portal slot），禁止渲染独立的 Inspector 面板。Inspector 布局必须在无选择时也保持渲染；输入可禁用但界面需可见。",
        "@language": "zh-cn"
      }
    ],
    "floatingPanelShellSsot": [
      {
        "@value": "Floating Panel (tool menu) is the only SSOT shell primitive for Canvas panels (semantic structure, header/body structure, and theming). It hosts Props Panel + Inspector/Chat/Geo + Graph Traversal views and forbids any legacy right SidePanel or BottomPanel Orchestrator. Pin disables header drag (locked panel, blue pin icon); unpin enables header drag (floating panel). Only mount the active view to forbid hidden background work.",
        "@language": "en-us"
      },
      {
        "@value": "Floating Panel（工具菜单）是 Canvas 面板唯一的 SSOT 壳层原语（语义结构、头/体结构、主题）。它承载 Props Panel + Inspector/Chat/Geo + Graph Traversal 视图，并禁止任何遗留右侧 SidePanel 或 BottomPanel Orchestrator。pin=锁定（禁用拖拽，蓝色图钉），unpin=浮动（启用头部拖拽）。只允许挂载当前激活视图，禁止隐藏面板后台运行。",
        "@language": "zh-cn"
      }
    ],
    "floatingPanelLightweightViewPattern": [
      {
        "@value": "Floating Panel view bodies must reuse the Props Panel lightweight embedding pattern. Default: the Floating Panel shell owns background + base typography and provides the single scroll container; embedded views must be content-only (no nested h-full/min-h-0/overflow scrollers, no redundant panel bg/borders/shadows, no fixed width constraints). If a view must own an internal scroller (e.g., chat messages), the Floating Panel body must switch to overflow-hidden for that view to prevent double-scroll. Layout-only wrappers should prefer div; reserve section/header/nav/aside for meaningful surface boundaries.",
        "@language": "en-us"
      },
      {
        "@value": "Floating Panel 的视图正文必须复用 Props Panel 的轻量嵌入模式。默认：Floating Panel 壳层负责背景与基础排版，并提供唯一的滚动容器；嵌入视图必须是纯内容（禁止嵌套 h-full/min-h-0/overflow 滚动区、禁止重复的 panel 背景/边框/阴影、禁止固定宽度约束）。如果某视图必须自带内部滚动（例如聊天消息列表），则该视图下 Floating Panel 正文必须切换为 overflow-hidden 以避免双重滚动。仅用于布局的包裹层优先使用 div；section/header/nav/aside 仅用于有语义的表面边界。",
        "@language": "zh-cn"
      }
    ],
    "floatingPanelTypographySsot": [
      {
        "@value": "Floating Panel typography (font family + base text size + micro-label size + monospace size) must be SSOT-driven via the host UI settings and applied at the floating panel content root so Inspector/Props/Orchestrator/Chat/Geo surfaces inherit consistently. MainPanel / Editor workspace / Graph Data Table must use the same ladder (anchor = FloatingPanel Inspector). Cross-repo panels mounted inside Floating Panel (e.g. geospatial panel) must receive the same ladder via a typed `panelTypography` prop (`PanelTypography.keyLabelClass` is the canonical Key label class; `PANEL_TYPOGRAPHY_DEFAULTS` centralizes fallbacks). Record Inspector key labels must use the same key/value text size as inputs (no micro-label sizing on `dt`). Portal content (dropdowns/popovers) must apply `microLabelClass` when it cannot inherit. Forbid hardcoded `text-*`/`font-*` inside panel bodies; only semantic emphasis (e.g. bold) is allowed.",
        "@language": "en-us"
      },
      {
        "@value": "Floating Panel 的排版（字体族 + 基础字号 + 微标签字号 + 等宽字号）必须由宿主 UI 设置驱动，并在浮动面板内容根节点统一应用，使 Inspector/Props/Orchestrator/Chat/Geo 表面一致继承。MainPanel / Editor 工作区 / Graph Data Table 也必须使用同一排版阶梯（锚点 = FloatingPanel Inspector）。Floating Panel 内挂载的跨仓库面板（例如 geospatial panel）必须通过类型化的 `panelTypography` prop 获取同一排版阶梯（`PanelTypography.keyLabelClass` 为 Key 标签的规范 class；`PANEL_TYPOGRAPHY_DEFAULTS` 统一默认回退值）。Record Inspector 的 key 标签必须与输入框使用同一 key/value 字号（`dt` 不得使用微标签字号）。无法继承的 Portal 内容（下拉/弹层）必须显式应用 `microLabelClass`。禁止在面板正文中硬编码 `text-*`/`font-*`；只允许语义强调（如加粗）。",
        "@language": "zh-cn"
      }
    ],
    "graphTraversalOrchestratorContract": [
      {
        "@value": "Graph Traversal (Orchestrator) UI must live only in the Canvas Floating Panel Graph Traversal view. Forbid any duplicate Orchestrator UI/Text editors in BottomPanel. Orchestrator configuration text editing must happen in the Editor workspace via workspace files (e.g. `orchestrator/graphrag-workflow.jsonld`); the panel may provide a jump-to-file button but must not embed a second freeform text editor.",
        "@language": "en-us"
      },
      {
        "@value": "Graph Traversal（Orchestrator）UI 只能存在于 Canvas Floating Panel 的 Graph Traversal 视图中。禁止在 BottomPanel 中保留/新增任何重复的 Orchestrator UI/Text 编辑器。Orchestrator 配置的纯文本编辑必须在 Editor 工作区通过工作区文件完成（例如 `orchestrator/graphrag-workflow.jsonld`）；面板可提供跳转按钮，但不得嵌入第二套自由文本编辑器。",
        "@language": "zh-cn"
      }
    ],
    "activeGraphRenderViewSsot": [
      {
        "@value": "All render surfaces (Editor workspace, Graph Data Table, Graph Fields, Dashboard (Stats), Selection Inspector (Record Inspector), EXPLORER projections, Canvas Preview, Canvas D3/Flow/2D/3D, Document Mode, and Geospatial 2D/3D) must consume the same SSOT-derived active graph render view. Derivation order: keyword base → optional frontmatter Mermaid filter (document mode only) → optional group collapse (`collapsedGroupIds`). Forbid per-surface re-derivation and drift. Graph Table persistence must reflect this derived view (including collapsed groups) and be validated with a bounded host test.",
        "@language": "en-us"
      },
      {
        "@value": "所有渲染表面（Editor 工作区、Graph Data Table、Graph Fields、Dashboard（Stats）、Selection Inspector（Record Inspector）、EXPLORER 投影、Canvas Preview、Canvas D3/Flow/2D/3D、Document Mode、Geospatial 2D/3D）必须消费同一份 SSOT 推导的 active graph render view。推导顺序：keyword 基础图 → 可选 frontmatter Mermaid 过滤（仅 document mode）→ 可选 group collapse（`collapsedGroupIds`）。禁止各表面自行二次推导与漂移。Graph Table 的持久化结果必须反映该推导视图（包含 collapsed groups），并通过有界的 host 测试验证。",
        "@language": "zh-cn"
      }
    ],
    "parserSchemaWorkflowSsot": [
      {
        "@value": "Parser and Schema Configurator UI must live only in MainPanel Workflow Manager. Forbid BottomPanel Parser/Schema tabs and any embedded Monaco Text Editors for parser scripts or schema config. Freeform text editing happens only in the Editor workspace via workspace files: `/parser/parser.py` and `/schema/schema.json`. Workspace autosave may sync `/parser/parser.py` into parser state and apply `/schema/schema.json` to the host schema only when JSON parses.",
        "@language": "en-us"
      },
      {
        "@value": "Parser 与 Schema Configurator UI 只能存在于 MainPanel Workflow Manager。禁止 BottomPanel 中存在 Parser/Schema 标签页，且禁止在其中嵌入任何用于 parser script 或 schema 配置的 Monaco 文本编辑器。自由文本编辑只能在 Editor 工作区通过工作区文件完成：`/parser/parser.py` 与 `/schema/schema.json`。工作区自动保存可将 `/parser/parser.py` 同步到 parser state，并仅在 JSON 可解析时将 `/schema/schema.json` 应用到宿主 schema。",
        "@language": "zh-cn"
      }
    ],
    "flowEditorNodeQuickEditorSsot": [
      {
        "@value": "Flow Editor may render an in-canvas Node Quick Editor overlay (positioned near the selected node). The overlay must reuse the host FloatingPanel shell patterns (ARIA + theming) and use semantic HTML only (aside/section/header/nav/menu/form/fieldset/legend/label/input/select/textarea/button/table/thead/tbody/tr/th/td), forbidding generic div wrappers. Key/value editing uses schema-like rows with Key/Type/Value columns (SSOT typography + tokens). Pin/unpin semantics are inverted from legacy: pinned locks to node-anchored positioning (drag disabled), while unpinned detaches and enables header drag with a persisted viewport position. Multi-node overlays must avoid overlap by applying a deterministic default placement and persisting detached positions per node id; form control ids must be scoped per node to prevent collisions. The icon toolbar is hidden by default and appears only when the node is selected (hiding on unselect or outside click). Toolbar actions include opening the node in Sidepane, enabling Port Handles for all nodes (set behavior.portHandles.enabled=true and behavior.portHandles.showAllInputs=true; gated by baseline lock), and converting the selected node to a Loop node (set node.type='Loop' and node.properties['workflow:kind']='loop'). Schema nodes may expose row-aligned field ports from node.properties['schema:fields'] and bind edges to ports via edge.properties['flow:sourcePortKey'|'flow:targetPortKey'] (e.g., field:<id>). Port-bound edges may provide a UI label override via edge.properties['flow:displayLabel'] and are subject to schema endpoint/type compatibility validation. Flow Editor Manager may provide a Node Quick Editor Registry that drives additional form fields/ports by node.type (field/port items may set isHidden=true to hide and suppress derived port handles), with optional per-node overrides via node.properties['flow:quickEditorTypeId'|'flow:quickEditorFormId']. When enabled registry mappings exist for the node type, the quick editor surfaces a selector that updates those override keys and emits a lightweight toast for visual confirmation; the selector remains visible even when other fields are collapsed. Connected inputs may be computed from port-bound edges (`flow:sourcePortKey`/`flow:targetPortKey`) and registry port schemaPaths; the UI may surface Connected hints and an explicit Apply action, but the compute pipeline must not silently mutate GraphData. Actions must be idempotent to avoid rerender churn. Field values map to node.properties keys; validation surfaces missing required keys without mutating graph state on failure.",
        "@language": "en-us"
      },
      {
        "@value": "Flow Editor 可在画布内渲染 Node Quick Editor 覆层（靠近当前选中节点定位）。该覆层必须复用宿主 FloatingPanel 的壳层模式（ARIA + 主题），并仅使用语义化 HTML（aside/section/header/nav/menu/form/fieldset/legend/label/input/select/textarea/button/table/thead/tbody/tr/th/td），禁止通用 div 包裹。Key/value 编辑应使用类似数据库 schema 的行布局（Key/Type/Value 三列，遵循 SSOT 排版与 token）。pin/unpin 语义与旧版本相反：pinned 表示锁定到节点（禁用拖拽），unpinned 表示脱离并可拖拽，且需持久化脱离后的 viewport 位置。多节点覆层必须通过确定性默认布局与按 node id 持久化位置来避免重叠；所有 form 控件 id 必须按节点作用域化以避免冲突。图标工具条默认隐藏，仅在节点被选中时显示（取消选择或点击外部时隐藏）。工具条动作包括打开 Sidepane、为所有节点启用 Port Handles（设置 behavior.portHandles.enabled=true 与 behavior.portHandles.showAllInputs=true，受 baseline lock 限制），以及将选中节点转换为 Loop 节点（设置 node.type='Loop' 与 node.properties['workflow:kind']='loop'）。Schema 节点可从 node.properties['schema:fields'] 暴露按行对齐的字段端口，并通过 edge.properties['flow:sourcePortKey'|'flow:targetPortKey']（例如 field:<id>）将边绑定到端口。端口绑定的边可通过 edge.properties['flow:displayLabel'] 提供 UI 标签覆盖，并受 schema endpoint/类型兼容性校验约束。Flow Editor Manager 可提供 Node Quick Editor Registry，按 node.type 驱动额外表单字段/端口（field/port 可设置 isHidden=true 以隐藏并抑制派生端口句柄），并支持通过 node.properties['flow:quickEditorTypeId'|'flow:quickEditorFormId'] 做节点级覆盖。当节点类型存在已启用映射时，Quick Editor 提供选择器更新上述覆盖键，并弹出轻量 toast 作为可视确认；即使其它字段折叠，选择器也必须可见。Connected inputs 可由端口绑定的边（`flow:sourcePortKey`/`flow:targetPortKey`）与 registry port schemaPath 进行计算；UI 可展示 Connected 提示与显式 Apply 动作，但计算管线不得在后台静默修改 GraphData。动作必须幂等以避免渲染抖动。字段值映射到 node.properties；校验需提示缺失必填键，失败时不得修改图状态。",
        "@language": "zh-cn"
      }
    ],
    "flowEditorEdgeCreationPaths": [
      {
        "@value": "Edge creation originates from Flow canvas handles and Node Quick Editor port dots. When a port dot is used, the edge must write flow:sourcePortKey/flow:targetPortKey; when no port is specified, the edge falls back to edge.id. When the Quick Editor is open, its port dots are the edge-creation surface for the selected node and native handles are suppressed.",
        "@language": "en-us"
      },
      {
        "@value": "边创建可从 Flow 画布句柄与 Node Quick Editor 端口点发起。使用端口点时必须写入 flow:sourcePortKey/flow:targetPortKey；未指定端口时边回退到 edge.id。在 Quick Editor 打开时，其端口点是所选节点的边创建表面，原生句柄被抑制。",
        "@language": "zh-cn"
      }
    ],
    "flowEditorManagerMappingEditor": [
      {
        "@value": "Flow Editor Manager mapping editor must render a single header with the Add Row action and a schema-like table with Key/Type/JSON Key/Direction columns. Direction options are Default (input + output), input-only, and output-only. Apply/Reset in the MainPanel header gates persistence and enables Apply only when edits are dirty.",
        "@language": "en-us"
      },
      {
        "@value": "Flow Editor Manager 的 mapping editor 必须使用单一 header 承载 Add Row 动作，并以 schema 样式表格呈现 Key/Type/JSON Key/Direction 列。Direction 选项为 Default（输入+输出）、input-only、output-only。持久化通过 MainPanel header 的 Apply/Reset，并仅在编辑变更时启用 Apply。",
        "@language": "zh-cn"
      }
    ],
    "spreadsheetGridStorageBackend": [
      {
        "@value": "Spreadsheet grid uses AG Grid for rich Airtable-like interactions and RxDB+Dexie as the local-first persistence layer. Forbid hosted backends and registration/auth flows. Stream row/column changes from RxDB and avoid re-render churn by keeping stable row ids and column ids.",
        "@language": "en-us"
      },
      {
        "@value": "Spreadsheet 表格使用 AG Grid 提供类 Airtable 的交互能力，并使用 RxDB+Dexie 作为本地优先的持久化层。禁止托管后端与注册/认证流程。行/列变更应从 RxDB 流式推送，并通过稳定的 rowId/columnId 避免渲染抖动。",
        "@language": "zh-cn"
      }
    ]
  }
}
