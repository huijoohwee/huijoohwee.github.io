{
  "@context": "https://huijoohwee.github.io/schema/AgenticRAG/v1/context.jsonld",
  "@id": "rag:Canvas",
  "@type": "rdfs:Class",
  "schemaVersion": "1.0.7",
  "rdfs:comment": [
    {
      "@value": "Defines an interactive graph canvas surface. Invariants: (1) presentation toggles update layers without unnecessary re-layout; (2) layout positions are cached by (semanticMode, frontmatterMode, layoutMode, renderMode) and are persisted even when structured layouts stop their simulation (radial/stratify) to prevent drift when switching modes; (3) overlap prevention is schema-driven via layout.forces.{bboxCollide*, groupBboxCollide*} and reused across Force/Radial/Stratify; (4) group bbox collision must key by rendered group membership (subgraphs/headings/layers) to forbid group box overlap; (5) stratify must reuse force-mode seeds via stable ordering + configurable blending (layout.stratify.reuseSeedStrength) and fit-to-screen should default to 80/20 fill (layout.stratify.fitFillRatio); (6) group boxes derive bounds from label-aware node AABBs; (7) render layers follow strict Z-ordering (Groups/Clusters < LinksHit < Links < EdgeLabels < TempLink < Nodes < NodeChevrons < Media < PortHandles < Labels < GroupLabels).",
      "@value": "Defines an interactive graph canvas surface. Invariants: (1) presentation toggles update layers without unnecessary re-layout; (2) layout positions are cached by (semanticMode, frontmatterMode, layoutMode, renderMode) and are persisted even when structured layouts stop their simulation (radial/stratify) to prevent drift when switching modes; (3) overlap prevention is schema-driven via layout.forces.{bboxCollide*, groupBboxCollide*} and reused across Force/Radial/Stratify (group bbox collision is enforced whenever layout.groups.enabled !== false; groupBboxCollide is deprecated for disabling); (4) group bbox collision must key by rendered group membership (subgraphs/headings/layers) to forbid group box overlap; (5) stratify must reuse force-mode seeds via stable ordering + configurable blending (layout.stratify.reuseSeedStrength) and fit-to-screen should default to 80/20 fill (layout.stratify.fitFillRatio); (6) group boxes derive bounds from label-aware node AABBs; (7) render layers follow strict Z-ordering (Groups/Clusters < LinksHit < Links < EdgeLabels < TempLink < Nodes < NodeChevrons < Media < PortHandles < Labels < GroupLabels).",
      "@language": "en-us"
    },
    {
      "@value": "定义交互式图画布表面。关键不变量：(1) 展示开关仅更新渲染图层，避免不必要重布局；(2) 布局位置按 (semanticMode, frontmatterMode, layoutMode, renderMode) 缓存，并在结构化布局停止模拟（radial/stratify）时也会落盘缓存，避免切换模式漂移；(3) 重叠防护通过 schema 驱动的 layout.forces.{bboxCollide*, groupBboxCollide*} 统一控制，并在 Force/Radial/Stratify 中复用（当 layout.groups.enabled !== false 时强制启用群组 bbox 碰撞；groupBboxCollide 不再用于关闭该约束）；(4) 群组 bbox 碰撞必须按“渲染出来的群组成员关系”（子图/标题层/图层）进行 keying，以禁止群组框互相重叠；(5) Stratify 必须复用 Force 模式的种子（稳定排序 + 可调混合，layout.stratify.reuseSeedStrength），且 Fit to Screen 默认应为 80/20 填充（layout.stratify.fitFillRatio）；(6) 群组框边界由“标签感知”的节点 AABB 推导；(7) 渲染图层遵循严格 Z 顺序（Groups/Clusters < LinksHit < Links < EdgeLabels < TempLink < Nodes < NodeChevrons < Media < PortHandles < Labels < GroupLabels）。",
      "@language": "zh-cn"
    }
  ],
  "rdfs:label": [
    { "@value": "Canvas", "@language": "en-us" },
    { "@value": "画布", "@language": "zh-cn" }
  ]
}
