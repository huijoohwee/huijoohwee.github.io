{
  "@context": "https://huijoohwee.github.io/schema/AgenticRAG/v1/context.jsonld",
  "@id": "rag:Pipeline",
  "@type": "rdfs:Class",
  "schemaVersion": "1.0.7",
  "rdfs:comment": [
    {
      "@value": "Defines the high-level, domain-agnostic GraphRAG pipeline surface. Configuration is externalized and structurally validated. Runtime import→render flows must be order-safe and batch-aware: bulk imports coalesce change notifications, and late async completions must not override the current user-selected view. Imports default to local execution for sensitive data (PDF→Markdown native local provider with optional online enrichment behind explicit configuration; bounded image persistence via data: URI embedding with safe same-origin cache fallback). Webpage import converts URL→Markdown for graph alignment and exposes view-only projections (Markdown/JSON/HTML) controlled by neutral frontmatter keys (kgWebpageUrl/kgWebpageView). Conversion is browser-native (sandboxed iframe DOM export) with bounded same-origin proxy fetch fallback, and upgrades fidelity for JS-rendered content without external headless browser dependencies. Website import (sitemap/tree) persists per-page artifacts and should expose a small progress snapshot for polling; UI polling must be bounded/backoff-aware and workspace writes must be concurrency-limited to prevent freezes. UI render surfaces consume a single SSOT-derived active graph render view (keyword base → optional frontmatter filter → optional group collapse). Cross-repo modularity is enforced via declared package entrypoints, SSOT shared graph types (grph-shared/graph/types), and centrally defined namespaced persistence keys. Render-stage caches isolate all render-affecting toggles (renderer variants, view keys, media density/toggles) and auto-fit reacts to viewport changes.",
      "@language": "en-us"
    },
    {
      "@value": "定义高层、领域无关的 GraphRAG 流水线表面。配置应外置并进行结构性校验。运行时 import→render 必须具备顺序安全与批处理意识：批量导入需要合并变更通知，异步任务的迟到完成不得覆盖用户当前选择的视图。导入默认应本地执行以保护敏感数据（PDF→Markdown 提供原生本地 provider；在线增强需显式配置；图片以有界 data: URI 嵌入为主，并以同源缓存资源 URL 作为安全回退）。Webpage 导入将 URL 转换为 Markdown 用于图对齐，并提供只读投影视图（Markdown/JSON/HTML），由中立 frontmatter key（kgWebpageUrl/kgWebpageView）控制。转换流程以浏览器原生为主（沙盒 iframe DOM 导出），并以有界同源 proxy 抓取作为回退，在 JS 渲染内容缺失时提升保真且无需外部 headless 浏览器依赖。Website 导入（sitemap/tree）会持久化逐页工件，并应提供用于轮询的轻量进度快照；UI 轮询必须有界/带退避，且工作区写入必须受限并发以防止卡死。所有 UI 渲染表面必须消费单一 SSOT 推导的 active graph render view（keyword 基础图 → 可选 frontmatter 过滤 → 可选 group collapse）。跨仓库模块化通过声明的包入口、共享图类型 SSOT（grph-shared/graph/types）与集中命名空间化的持久化 key 来约束。渲染缓存必须按所有影响渲染的开关进行隔离（渲染器变体、view key、媒体密度/开关），auto-fit 必须对 viewport 变化作出响应。",
      "@language": "zh-cn"
    }
  ],
  "rdfs:label": [
    { "@value": "Pipeline", "@language": "en-us" },
    { "@value": "流水线", "@language": "zh-cn" }
  ],
  "propertyDefinitions": {
    "config": {
      "@type": "@json",
      "required": false,
      "suggestedFields": [
        "phrase_boundary_threshold",
        "max_entity_span_tokens",
        "coreference_distance_limit",
        "edge_confidence_threshold",
        "max_syntactic_path_length",
        "temporal_marker_boost",
        "auto_tune_enabled",
        "tuning_sensitivity",
        "feedback_window_size",
        "entity_merge_threshold",
        "conflict_resolution_strategy",
        "cross_document_inference_depth",
        "feedback_loop_enabled",
        "quality_check_interval",
        "max_feedback_iterations",
        "min_pattern_support",
        "max_pattern_entities_per_block",
        "emergent_relationship_threshold",
        "corpus_centrality_algorithm",
        "default_traversal_depth",
        "min_result_count",
        "max_context_chunks",
        "follow_up_suggestion_count",
        "pdf_import_conversion_mode",
        "youtube_transcript_output_format"
      ]
    },
    "provenance": {
      "@type": "@id",
      "required": false,
      "rdfs:label": [
        { "@value": "Provenance", "@language": "en-us" },
        { "@value": "溯源", "@language": "zh-cn" }
      ],
      "rdfs:comment": [
        {
          "@value": "Optional derivation references (prov:wasDerivedFrom) used to track pipeline lineage without introducing domain semantics. Use stable ids/URIs and keep records bounded.",
          "@language": "en-us"
        },
        {
          "@value": "用于记录流水线血缘的可选派生引用（prov:wasDerivedFrom），不引入领域语义。使用稳定的 id/URI，并保持记录有界。",
          "@language": "zh-cn"
        }
      ]
    }
  }
}
