{
  "@context": {
    "@version": 1.1,
    "@base": "https://huijoohwee.github.io/schema/base.jsonld",
    "@vocab": "https://huijoohwee.github.io/schema/vocab.jsonld",

    "core": "https://huijoohwee.github.io/schema/core.jsonld",
    "uc": "https://huijoohwee.github.io/schema/uc.jsonld",
    "wf": "https://huijoohwee.github.io/schema/wf.jsonld",
    "kg": "https://huijoohwee.github.io/schema/kg.jsonld",

    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "nquads": "https://www.w3.org/TR/n-quads/#n-quads",

    "jjnhm": "https://huijoohwee.github.io/schema/jjnhm.jsonld",
    "jsonld": "https://www.w3.org/2013/json-ld-context/rdfa11",
    "jdbl": "https://huijoohwee.github.io/schema/jdbl.jsonld",
    "nqds": "https://huijoohwee.github.io/schema/nqds.jsonld",
    "hbs": "https://huijoohwee.github.io/schema/hbs.jsonld",
    "mmd": "https://huijoohwee.github.io/schema/mmd.jsonld",

    "ContextDefinition": "core:ContextDefinition",
    "Template": "hbs:Template",
    "PartialTemplate": "hbs:PartialTemplate",
    "ComponentTemplate": "hbs:ComponentTemplate",
    "LayoutTemplate": "hbs:LayoutTemplate",
    "Helper": "hbs:Helper",
    "BlockHelper": "hbs:BlockHelper",
    "ConditionalHelper": "hbs:ConditionalHelper",
    "IterationHelper": "hbs:IterationHelper",
    "Context": "hbs:Context",
    "Variable": "hbs:Variable",
    "Expression": "hbs:Expression",
    "Comment": "hbs:Comment",

    "templateName": { "@id": "hbs:templateName", "@type": "xsd:string" },
    "hasTemplate": { "@id": "hbs:hasTemplate", "@type": "@id" },
    "hasHelper": { "@id": "hbs:hasHelper", "@type": "@id", "@container": "@set" },
    "hasContext": { "@id": "hbs:hasContext", "@type": "@id" },
    "hasVariable": { "@id": "hbs:hasVariable", "@type": "@id", "@container": "@set" },
    "includes": { "@id": "hbs:includes", "@type": "@id", "@container": "@set" },
    "extends": { "@id": "hbs:extends", "@type": "@id" },
    "renders": { "@id": "hbs:renders", "@type": "@id" },
    "iteratesOver": { "@id": "hbs:iteratesOver", "@type": "@id" },
    "conditionalOn": { "@id": "hbs:conditionalOn", "@type": "@id" },
    "helperName": { "@id": "hbs:helperName", "@type": "xsd:string" },
    "variableName": { "@id": "hbs:variableName", "@type": "xsd:string" },
    "memoize": { "@id": "hbs:memoize", "@type": "xsd:boolean" },
    "cacheKey": { "@id": "hbs:cacheKey", "@type": "xsd:string" },
    "usesType": { "@id": "hbs:usesType", "@type": "@id", "@container": "@set" },
    "docs": "rdfs:seeAlso"
  },

  "@id": "https://huijoohwee.github.io/schema/hbs.jsonld#TemplatingEngineContext:v1.1",
  "@type": "ContextDefinition",

  "meta": {
    "title": "HBS Templating Engine Context",
    "description": "Handlebars templating layer context mapping templates, partials, helpers and memoization hints to JSON-LD terms; includes validator guidance and example pointers",
    "creator": "https://github.com/huijoohwee",
    "versionInfo": "1.1.0",
    "maintainer": "https://github.com/huijoohwee",
    "license": "https://opensource.org/licenses/MIT",
    "created": "2025-10-05",
    "modified": "2025-10-09",
    "layer": "templating-engine",
    "responsibilities": [
      "dynamic-content-generation",
      "reusable-component-templates",
      "conditional-rendering-logic",
      "iteration-and-composition",
      "memoization-and-cache-hints"
    ]
  },

  "@graph": [
    {
      "@id": "hbs:Template",
      "@type": "rdfs:Class",
      "rdfs:label": "Template",
      "rdfs:comment": "Base class for Handlebars templates and template components"
    },
    {
      "@id": "hbs:ComponentTemplate",
      "@type": "rdfs:Class",
      "rdfs:subClassOf": "hbs:Template",
      "rdfs:label": "Component Template",
      "rdfs:comment": "Reusable template component that can be included in other templates"
    },
    {
      "@id": "hbs:LayoutTemplate",
      "@type": "rdfs:Class",
      "rdfs:subClassOf": "hbs:Template",
      "rdfs:label": "Layout Template",
      "rdfs:comment": "Template that defines overall structure and layout"
    },
    {
      "@id": "hbs:PartialTemplate",
      "@type": "rdfs:Class",
      "rdfs:subClassOf": "hbs:Template",
      "rdfs:label": "Partial Template",
      "rdfs:comment": "Template fragment included in other templates"
    },
    {
      "@id": "hbs:Helper",
      "@type": "rdfs:Class",
      "rdfs:label": "Helper",
      "rdfs:comment": "Function providing functionality inside templates"
    },
    {
      "@id": "hbs:BlockHelper",
      "@type": "rdfs:Class",
      "rdfs:subClassOf": "hbs:Helper",
      "rdfs:label": "Block Helper",
      "rdfs:comment": "Helper operating on a block of template content"
    },
    {
      "@id": "hbs:ConditionalHelper",
      "@type": "rdfs:Class",
      "rdfs:subClassOf": "hbs:BlockHelper",
      "rdfs:label": "Conditional Helper",
      "rdfs:comment": "Helper providing conditional rendering logic"
    },
    {
      "@id": "hbs:IterationHelper",
      "@type": "rdfs:Class",
      "rdfs:subClassOf": "hbs:BlockHelper",
      "rdfs:label": "Iteration Helper",
      "rdfs:comment": "Helper providing iteration and looping functionality"
    },
    {
      "@id": "hbs:Context",
      "@type": "rdfs:Class",
      "rdfs:label": "Context",
      "rdfs:comment": "Data context available to templates during rendering"
    },
    {
      "@id": "hbs:Variable",
      "@type": "rdfs:Class",
      "rdfs:label": "Variable",
      "rdfs:comment": "Variable or data binding within a template"
    },
    {
      "@id": "hbs:Expression",
      "@type": "rdfs:Class",
      "rdfs:label": "Expression",
      "rdfs:comment": "Expression that evaluates to a value within a template"
    },
    {
      "@id": "hbs:Comment",
      "@type": "rdfs:Class",
      "rdfs:label": "Comment",
      "rdfs:comment": "Comment or annotation within a template"
    }
  ],

  "properties": [
    {
      "@id": "hbs:hasTemplate",
      "@type": "rdf:Property",
      "rdfs:label": "has template",
      "rdfs:comment": "Associates an entity with a template",
      "rdfs:domain": "rdfs:Resource",
      "rdfs:range": "hbs:Template"
    },
    {
      "@id": "hbs:hasHelper",
      "@type": "rdf:Property",
      "rdfs:label": "has helper",
      "rdfs:comment": "Associates a template with a helper function",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "hbs:Helper"
    },
    {
      "@id": "hbs:hasContext",
      "@type": "rdf:Property",
      "rdfs:label": "has context",
      "rdfs:comment": "Associates a template with a data context",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "hbs:Context"
    },
    {
      "@id": "hbs:hasVariable",
      "@type": "rdf:Property",
      "rdfs:label": "has variable",
      "rdfs:comment": "Associates a template with a variable or data binding",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "hbs:Variable"
    },
    {
      "@id": "hbs:includes",
      "@type": "rdf:Property",
      "rdfs:label": "includes",
      "rdfs:comment": "Indicates that a template includes another template or partial",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "hbs:Template"
    },
    {
      "@id": "hbs:extends",
      "@type": "rdf:Property",
      "rdfs:label": "extends",
      "rdfs:comment": "Indicates that a template extends a layout template",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "hbs:LayoutTemplate"
    },
    {
      "@id": "hbs:renders",
      "@type": "rdf:Property",
      "rdfs:label": "renders",
      "rdfs:comment": "Indicates that a template renders specific content",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "rdfs:Resource"
    },
    {
      "@id": "hbs:iteratesOver",
      "@type": "rdf:Property",
      "rdfs:label": "iterates over",
      "rdfs:comment": "Indicates that a template iterates over a collection",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "rdfs:Resource"
    },
    {
      "@id": "hbs:conditionalOn",
      "@type": "rdf:Property",
      "rdfs:label": "conditional on",
      "rdfs:comment": "Indicates that template content is conditional on a value",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "hbs:Expression"
    },
    {
      "@id": "hbs:templateName",
      "@type": "rdf:Property",
      "rdfs:label": "template name",
      "rdfs:comment": "Specifies the name identifier of a template",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "xsd:string"
    },
    {
      "@id": "hbs:helperName",
      "@type": "rdf:Property",
      "rdfs:label": "helper name",
      "rdfs:comment": "Specifies the name identifier of a helper function",
      "rdfs:domain": "hbs:Helper",
      "rdfs:range": "xsd:string"
    },
    {
      "@id": "hbs:variableName",
      "@type": "rdf:Property",
      "rdfs:label": "variable name",
      "rdfs:comment": "Specifies the name identifier of a variable",
      "rdfs:domain": "hbs:Variable",
      "rdfs:range": "xsd:string"
    },
    {
      "@id": "hbs:memoize",
      "@type": "rdf:Property",
      "rdfs:label": "memoize",
      "rdfs:comment": "Memoization hint for templates/partials/helpers",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "hbs:cacheKey",
      "@type": "rdf:Property",
      "rdfs:label": "cache key",
      "rdfs:comment": "Suggested cache key identifier for memoized templates",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "xsd:string"
    },
    {
      "@id": "hbs:usesType",
      "@type": "rdf:Property",
      "rdfs:label": "uses type",
      "rdfs:comment": "Indicates JSON-LD types the template expects in its context",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "xsd:anyURI"
    },
    {
      "@id": "hbs:docs",
      "@type": "rdf:Property",
      "rdfs:label": "docs",
      "rdfs:comment": "Documentation or reference URL for template or helper",
      "rdfs:domain": "hbs:Template",
      "rdfs:range": "xsd:anyURI"
    }
  ],

  "validatorHints": [
    {
      "@type": "core:Concept",
      "label": "hbs-syntax-and-partials",
      "description": "Validate Handlebars syntax, existence of declared partials, partial/partialName consistency, and precompilation success",
      "recommendedTools": ["handlebars-lint", "template-tester"]
    },
    {
      "@type": "core:Concept",
      "label": "hbs-memoization",
      "description": "Ensure memoize hints and cacheKey values are present for critical-path templates and conform to token-efficiency guidance",
      "recommendedTools": ["hbs-memoization-checker", "token-density-meter"]
    },
    {
      "@type": "core:Concept",
      "label": "hbs-data-bindings",
      "description": "Verify usesType references resolve to JSON-LD types and that declared variables exist in example contexts",
      "recommendedTools": ["jsonld.js", "hbs-data-binding-checker"]
    }
  ],

  "examples": [
    {
      "@type": "hbs:ComponentTemplate",
      "@id": "https://huijoohwee.github.io/schema/examples/hbs/agent-coordination",
      "templateName": "agent-coordination.hbs",
      "hasHelper": [
        {
          "@type": "hbs:IterationHelper",
          "helperName": "each",
          "iteratesOver": "workflow.agents"
        },
        {
          "@type": "hbs:ConditionalHelper",
          "helperName": "if",
          "conditionalOn": "this.capabilities"
        }
      ],
      "includes": [
        {
          "@type": "hbs:PartialTemplate",
          "templateName": "task-template"
        },
        {
          "@type": "hbs:PartialTemplate",
          "templateName": "dependency-resolver"
        }
      ],
      "hasVariable": [
        {
          "@type": "hbs:Variable",
          "variableName": "this.id"
        },
        {
          "@type": "hbs:Variable",
          "variableName": "this.type"
        },
        {
          "@type": "hbs:Variable",
          "variableName": "this.capabilities"
        }
      ],
      "memoize": true,
      "cacheKey": "agent-coord-v1",
      "usesType": [
        "https://huijoohwee.github.io/schema/vocab.jsonld#Agent",
        "https://schema.org/Person"
      ],
      "docs": "https://handlebarsjs.com/guide/partials.html"
    }
  ]
}